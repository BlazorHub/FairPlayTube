<h3>Upload</h3>

<Loading IsLoading="IsLoading"></Loading>

<EditForm Model="@UploadVideoModel" OnValidSubmit="OnValidSubmit">
    <DataAnnotationsValidator></DataAnnotationsValidator>
    <ValidationSummary></ValidationSummary>
    <div class="mb-3">
        <label class="form-label">Name</label>
        <InputText class="form-control" @bind-Value="UploadVideoModel.Name"></InputText>
    </div>
    <div class="mb-3">
        <label class="form-label">FileName</label>
        <InputText class="form-control" @bind-Value="UploadVideoModel.FileName"></InputText>
    </div>
    <div class="mb-3">
        <label class="form-label">FileUrl</label>
        <InputText class="form-control" @bind-Value="UploadVideoModel.SourceUrl" @oninput="OnSourceUrlChanged"></InputText>
    </div>
    <div class="mb-3">
        <label class="form-label">Description</label>
        <InputText class="form-control" @bind-Value="UploadVideoModel.Description"></InputText>
    </div>
    @if (!this.IsSubmitting)
    {
        <div class="mb-3">
            <label class="form-label">Video File</label>
            <InputFile class="form-control" OnChange="OnVideoFileSelectedAsync" accept="video/*"></InputFile>
        </div>
    }
    <UploadVideoModelValidator></UploadVideoModelValidator>
    @if (!IsSubmitting)
    {
        <div class="mb-3">
            <button type="submit" class="btn btn-primary">Submit</button>
        </div>
    }
</EditForm>
<div class="mb-3">
    <strong>
        Note: Once uploaded, videos will be visible until they finish processing, it could take up to 10 minutes for small videos.
        The longer the video, the longer the processing time will take
    </strong>
</div>